@model OSBLE.Models.LogOnModel

@{
    ViewBag.Title = "Log On";
    Layout = "~/Views/Shared/_LogOn.cshtml";
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

<div>Online Studio Based Learning Environment</div>

@Html.ValidationSummary(true, "Login was unsuccessful. Please correct the errors and try again.")

@using (Html.BeginForm()) {
    <div>
    <table>
        <tr>
            <td>
            <div class="editor-label">
                @Html.LabelFor(m => m.UserName)
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.UserName, new { tabindex = "1" })<br />
                @Html.ValidationMessageFor(m => m.UserName)
            </div>
            </td>
            <td>
            <div class="editor-label">
                @Html.LabelFor(m => m.Password)
            </div>
            <div class="editor-field">
                @Html.PasswordFor(m => m.Password, new { tabindex = "2" })<br />
                @Html.ValidationMessageFor(m => m.Password)
            </div>
            </td>
            <td>
            
            </td>
        </tr>
    </table>
            <div class="editor-label">
                @Html.CheckBoxFor(m => m.RememberMe, new { tabindex = "3" })
                @Html.LabelFor(m => m.RememberMe)
            </div>

            @if (ViewBag.Attempts < 3)
            { 
            <div>
            @Html.Partial("_ReCaptcha")
            </div>
            }

            <p>
                <input type="submit" value="Log On" />
            </p>
    </div>
    
    
    <p>
        Don't have an account? @Html.ActionLink("Sign Up", "Register", null, new { tabindex = "4" }).
    </p>
    <p>
        Forgot your password? @Html.ActionLink("Click Here", "ResetPassword").
    </p>
    <p>
        <!--Need help? <a href="#" tabindex="5">Click Here</a>.-->
        @Html.ActionLink("Contact Us/Support", "ContactUs") &mdash; 
        <a href="http://helplab.org/projects/osble" >About OSBLE</a> &mdash; 
        <a href="#" id="privacy_click">Privacy Notice</a>

        <script type="text/javascript">
            $(function () {

                $('#privacy_notice').dialog(
                {
                    autoOpen: false,
                    modal: true,
                    width: 550,
                    height: 550,
                    resizable: true,
                    title: "OSBLE Privacy Policy"
                }
                );

                $('#privacy_click').click(function () {
                    $('#privacy_notice').dialog('open');
                    return false;
                });

            });
        </script>
    </p>
    <table class="helplab_display">
    <tr>
    <td>
        <a href="http://www.helplab.org/"><img src="@Url.Content("~/Content/images/helplab_logo.png")" alt="HELPLab Logo" /></a>
    </td>
    <td>
        Developed by the <a href="http://www.helplab.org/">HELP Lab</a><br />
        At <a href="http://www.wsu.edu/">Washington State University</a>
    </td>
    </tr>
    </table>
}

    <div id="privacy_notice">
        @Html.Partial("Privacy")
    </div>