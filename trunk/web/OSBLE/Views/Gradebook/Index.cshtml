@{
    ViewBag.Title = "Gradebook";
    Layout = null;
}
<html>
<head>
    <script src="@Url.Content("~/Scripts/jquery-1.6.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"></script>
    <script type="text/javascript">
        function cellGainsFocus(someCell) {
            var textValue = $(someCell).text();
            var inputText = '<td><input class="cellInput" onblur="cellInputBlur(this)" type="text" value="' + textValue + '" /></td>';
            $(someCell).replaceWith(inputText);
        }

        function cellInputBlur(someInput) {
            //var cellValue = $(someInput).attr("value");
            var cellValue = $(someInput).val();
            $(this).remove().replaceWith("<td onclick='cellGainsFocus(this)'>" + cellValue + "</td>");
        }

        function calculateRows() {
            $("#grades tr").each(function () {
                var total = 0;
                $(this).find('td').each(function () {
                    total += parseInt($(this).text());
                });
                alert("Row Total: " + total);
            });
        }

        function calculateTotal() {
            var final = 0;
            $("#grades tr td").each(function () {
                    final += parseInt($(this).text());
            });
            alert("Total Table: " + final);
        }

        function calculateCols() {
            var col1 = 0;
            var col2 = 0;
            var col3 = 0;
            var col4 = 0;
            var col5 = 0;

            //reference the rows you want to add
            //this will not include the header row
            var rows = $("#grades tr");
            rows.children("td:nth-child(1)").each(function () {

                //each time we add the cell to the total
                col1 += parseInt($(this).html());
            });
            rows.children("td:nth-child(2)").each(function () {
                col2 += parseInt($(this).html());
            });
            rows.children("td:nth-child(3)").each(function () {
                col3 += parseInt($(this).html());
            });
            rows.children("td:nth-child(4)").each(function () {
                col4 += parseInt($(this).html());
            });
            rows.children("td:nth-child(5)").each(function () {
                col5 += parseInt($(this).html());
            });

            alert(col1);
            alert(col2);
            alert(col3);
            alert(col4);
            alert(col5);
        }
        
    </script>
    <style type="text/css">
        .cellInput
        {
            width:100%;
            border:none;
        }
        .gradebook
        {
            width:100%;
            border-collapse:collapse;
            border: 1px solid gray;
        }
        
        .gradebook td
        {
            padding:3px;
            width:100px;
            height:25px;
        }
        
        .gradebook td, .gradebook th, .gradebook tr
        {
            width:20%;
            border:1px solid gray;
        }

</style>
</head>
<body>
    <table id="grades" class="gradebook">
        @for (int i = 0; i < 10; i++)
        {
            <tr>
                @for (int j = 0; j < 5; j++)
                {
                    <td onclick="cellGainsFocus(this)">@(i*j)</td>
                }
            </tr>
        }
    </table>
    <input value="Calculate Rows" type="button" onclick="calculateRows()" />
    <input value="Calculate Columns" type="button" onclick="calculateCols()" />
    <input value="Calculate Total" type="button" onclick="calculateTotal()" />
</body>
</html>
