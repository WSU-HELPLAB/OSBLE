@using OSBLE.Models

@helper DisplaySection(string sectionNum) {
    if (sectionNum != "0") {
    <text>Section @sectionNum</text>   
    }
    else
    {
        <text>All Sections</text>
    }
}

@* Only use this helper in a place that requires an active course (uses [RequireActiveCourse] attribute) *@
@helper DisplayName(UserProfile user, CoursesUsers activeCourse, bool show=false) {
    if (!activeCourse.CourseRole.Anonymized && (activeCourse.CourseRole.CanGrade || (user.ID == activeCourse.UserProfileID) || show))
    {
        <text>@user.FirstName @user.LastName</text>
    } else {
        <text>Anonymous</text>   
    }
}

@helper DisplayNameForDashboard(UserProfile user, CoursesUsers activeCourse, bool show=false) {
    if(show || (activeCourse.UserProfileID == user.ID)) {
        <text>@user.FirstName @user.LastName</text>
    } else {
        <text>Anonymous</text>   
    }
}

@helper DisplayDate(DateTime dt) {
    @dt.ToLongDateString()<text> </text>@dt.ToShortTimeString()
}

@helper MailButton() {<img src="../../Content/images/mail_up.png" />}

@helper AddButton() {<img src="../../Content/images/add_up.png" alt="Add Button"/>}

@helper EditButton() {<img src="../../Content/images/edit_up.png" alt="Edit Button"/>}

@helper DeleteButton() {<img src="../../Content/images/delete_up.png" alt="Delete Button"/>}


@helper DisplayLastFourID(string Identification) { <text>(@Identification.Substring(Math.Max(Identification.Length - 4, 0), Math.Min(Identification.Length, 4)))</text>}

@helper DisplayFullNameOrPending(UserProfile user) {
        if(user.UserName != null)
        {
            <text>@user.FirstName @user.LastName</text>
        }
        else
        {
            <text><em>Pending @Helpers.DisplayLastFourID(user.Identification) </em></text>
        }
    }