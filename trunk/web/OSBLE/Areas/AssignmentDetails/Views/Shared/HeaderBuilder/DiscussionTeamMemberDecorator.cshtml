@using OSBLE.Resources
@using OSBLE.Models.Courses
@using OSBLE.Models.Assignments
@using OSBLE.Models.Users;
@model DynamicDictionary
@{
    dynamic dataModel = Model;
    List<List<UserProfile>> ListOfListOfMembers = dataModel.DiscussionTeam.ListOfListOfMembers;
    List<string> ListOfTeamNames = dataModel.DiscussionTeam.ListOfTeamNames;
    List<int> ListOfTeamIDs = dataModel.DiscussionTeam.ListOfTeamIDs;
}
<tr>
    <!--Team members row-->
    <th>
        Your Team
    </th>
    <td>

    <ul>
    @for (int i = 0; i < ListOfListOfMembers.Count; i++)
    {
        <li class="MultiTeamListItem">
     
            <strong>@ListOfTeamNames[i]</strong>
    
            <ul class="UserList">
                @foreach (UserProfile up in ListOfListOfMembers[i])
                {
                  <li>    
                    <div class="UserControls">
                        <a title="Mail This User" href="@Url.Action("CreateTeamMember", "Mail", new { id = up.ID, area = "" })">@Helpers.MailButton()</a>
                    </div>
                    @Helpers.SmallProfilePicture(@Url.Action("ProfilePicture", "Roster", new { userProfile = up.ID, area = "" }))
                    <span class="roster_name">@Helpers.DisplayFullNameOrPending(up)</span>
                        </li>  
                }

                <br />
                <a title="Email whole team" href="@Url.Action("CreateEntireDiscussionTeam", "Mail", new { teamID = ListOfTeamIDs[i], area = "" })">
                    Email the whole team</a>
            </ul>
        </li>
    }
    </ul>
    </td>
</tr>
