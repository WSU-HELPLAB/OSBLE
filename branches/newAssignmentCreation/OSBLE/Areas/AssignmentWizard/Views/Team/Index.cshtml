@using OSBLE.Models.Courses;
@using OSBLE.Models.Assignments;
@using System.Collections.Generic;
@using OSBLE.Models;
@model Assignment          
@{
    List<CourseUsers> unassignedUsers = ViewBag.UnassignedUsers;
    List<AssignmentTeam> teams = ViewBag.Teams;    
    ViewBag.Title = "Assignment Creation Wizard";
}

@section Header
{
    <link href="@Url.Content("~/AssignmentWizard/Content/css/team.css")" type="text/css" rel="Stylesheet" />
    <script src="@Url.Content("~/AssignmentWizard/Content/js/team.js")" type="text/javascript"></script>
}

<h1>
    Team Settings</h1>
<p>
    @Html.Raw(ToolTips.BasicAssignmentIsTeam)
</p> 
@Html.HiddenFor(m => m.ID)
<div>
<h3>Auto Generation Options</h3>
<ul>
    <li>
        Create a layout with <input type="text" id="AutoGenByStudentTextBox" size="3" /> students per team
        <button type="button" id="AutoGenByStudentButton" onclick="generateTeamsByNumberOfStudents()">Go</button>
    </li>
    <li>
        Create a layout with <input type="text" id="AutoGenByteamTextBox" size="3" /> total teams
        <button type="button" id="AutoGenByTeamButton" onclick="generateTeamsByNumberOfTeams()">Go</button>
    </li>
    <li>
        Use a layout from the previous assignment: 
        <select id="AutoGenFromPastSelect">
        </select>
        <button type="button" id="AutoGenFromPastButton">Go</button>
    </li>
</ul>
</div>
<div id="TeamCreationOptions">
    <a id="CreateTeamLink" class="NoDecoration">
        <img src="@Url.Content("~/Content/images/add_up.png")" alt="Create New Team" title="Create New Team" />
        Create New Team </a>
</div>
    
<div id="AvailableStudentList">
    <h3>
        Unassigned Students</h3>
    <ul id="AvailableStudent" class="TeamSortable">
        @foreach (CourseUsers cu in unassignedUsers)
        {
            <li id="cu_@(cu.ID)" class="ui-state-default Student">@cu.UserProfile.LastName, @cu.UserProfile.FirstName</li>
        }
    </ul>
</div>
    
<div id="TeamsDiv">
    <h3>Teams</h3>

    @foreach (AssignmentTeam aTeam in teams)
    {
        
    }
</div>

<!-- hidden form values needed for team assignment -->
@foreach (CourseUsers cu in unassignedUsers)
{
    <input type="hidden" id="student_@(cu.ID)" name="student_@(cu.ID)" value="@(cu.UserProfile.FirstName) @(cu.UserProfile.LastName)" />
}
