@using OSBLE.Models.Assignments;
@using OSBLE.Models.Assignments.Activities;
@using OSBLE.Models;
@{
    ViewBag.Title = "Assignment Creation Wizard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model Assignment

<script src="@Url.Content("~/AssignmentWizard/Content/Js/deliverables.js")" type="text/javascript"></script>
<h1>Assignment Deliverables</h1>
<p>@ToolTips.BasicAssignmentDeliverables</p>
@using (@Html.BeginForm())
{
@Html.Partial("_WizardTopNav")
@Html.ValidationSummary() 
@Html.HiddenFor(m => m.ID)
    <table id="deliverables_table" cellspacing="6px">
        <tr>
            <td>
                File&nbsp;Name
            </td>
            <td>
                <input type="text" id="new_deliverable_name" />
            </td>
        </tr>
        <tr>
            <td>
                Type
            </td>
            <td>
                <select id="new_deliverable_type">
                    @foreach (SelectListItem dt in ViewBag.DeliverableTypes)
                    {
                        <option value="@dt.Value">@dt.Text</option>
                    }
                </select>
            </td>
        </tr>
    </table>
    
    <div>
        <a href="#" id="add_new_deliverable" title="Add New Deliverable" style="text-decoration: none;">
            <img src="@Url.Content("~/Content/images/add_up.png")" alt="Add New Deliverable" />
            Add Deliverable </a>
    </div>

    <div id="deliverable_data">
    </div>
    
    <div id="deliverables_after">
    </div>
    
    <script type="text/javascript">
        $(function () {
            @foreach (Deliverable deliverable in Model.Deliverables)
            {
                <text>
                addNewDeliverable(true, { name: '@deliverable.Name', fileType: @deliverable.Type});
                </text>
            }
        });       
    </script>

    
@Html.Partial("_WizardBottomNav");
}